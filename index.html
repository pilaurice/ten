<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) - Updated for your domain -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YOUR_GA_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-YOUR_GA_ID', {
        page_title: 'Ultimate Tic-Tac-Toe - TEN',
        page_location: 'https://ten.sennepgames.com'
      });
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Tic-Tac-Toe - TEN | Sennep Games</title>
    <meta name="description" content="Play Ultimate Tic-Tac-Toe! Strategic tic-tac-toe with AI that thinks 6 moves ahead. Can you beat the AI on hard mode?">
    
    <!-- Favicon setup -->
    <link rel="icon" type="image/x-icon" href="./assets/icons/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/icons/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./assets/icons/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="./assets/icons/android-chrome-512x512.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#337AFF">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TEN">
    
    <!-- Updated Open Graph / Facebook meta tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ten.sennepgames.com/">
    <meta property="og:title" content="Ultimate Tic-Tac-Toe - TEN | Sennep Games">
    <meta property="og:description" content="Play Ultimate Tic-Tac-Toe! Strategic tic-tac-toe with AI that thinks 6 moves ahead. Can you beat the AI on hard mode?">
    <meta property="og:image" content="https://ten.sennepgames.com/assets/images/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Sennep Games">

    <!-- Updated Twitter meta tags -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ten.sennepgames.com/">
    <meta property="twitter:title" content="Ultimate Tic-Tac-Toe - TEN | Sennep Games">
    <meta property="twitter:description" content="Play Ultimate Tic-Tac-Toe! Strategic tic-tac-toe with AI that thinks 6 moves ahead. Can you beat the AI on hard mode?">
    <meta property="twitter:image" content="https://ten.sennepgames.com/assets/images/og-image.png">

    <!-- Additional SEO meta tags -->
    <meta name="keywords" content="tic-tac-toe, ultimate tic-tac-toe, strategy game, AI game, puzzle game, brain game, sennep games">
    <meta name="author" content="Sennep Games">
    <meta name="robots" content="index, follow">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://ten.sennepgames.com/">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Separated CSS file -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="splash-visible">
    <!-- Navigation buttons -->
    <button class="info-button" onclick="showAppInfo()" aria-label="App information">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" fill="currentColor"/>
        </svg>
    </button>

    <button class="home-button" onclick="goToHome()" aria-label="Return to home">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <button class="share-button" onclick="shareGame()" aria-label="Share game">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.59 13.51l6.83 3.98m-.01-10.98l-6.82 3.98M21 5a3 3 0 11-6 0 3 3 0 016 0zM9 12a3 3 0 11-6 0 3 3 0 616 0zm12 7a3 3 0 11-6 0 3 3 0 616 0z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <!-- Toast notification -->
    <div class="toast" id="toast"></div>

    <!-- App Info Modal -->
    <div class="modal-overlay" id="appInfoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">About TEN</h2>
                <button class="modal-close" onclick="closeAppInfo()" aria-label="Close">Ã—</button>
            </div>
            <div class="modal-body">
                <!-- About Sennep Games -->
                <h3>ðŸŽ® About Sennep Games</h3>
                <p><a href="https://sennepgames.com" target="_blank" rel="noopener">Sennep Games</a> is the playful arm of <a href="https://sennep.com" target="_blank" rel="noopener">Sennep</a>, an award-winning London-based design studio known for crafting beautiful, interactive experiences. Led by Matt Rice and Hege Aaby, the team blends visual craft with thoughtful UX to create games that are easy to pick up but hard to put down.</p>

                <p>Their portfolio includes mobile titles like <em>OLO</em>, <em>OLO Loco</em>, and <em>Alphaputt</em>. They're currently developing <em>Polyverse</em> â€” a numbers-based 3D puzzle for mobile and mixed reality â€” and <em>TEN</em>, a modern reimagining of Ultimate Tic-Tac-Toe. <em>TEN</em> is both an experiment in AI-assisted game development and a fully playable Progressive Web App (PWA).</p>

                <!-- Got Ideas for TEN -->
                <h3>ðŸ’Œ Got Ideas for TEN?</h3>
                <p><em>TEN</em> is an ongoing project, and we've got plenty of ideas for what's next â€” but we'd love to hear yours too. Got a feature in mind? Spot a bug? Drop us a line at <a href="mailto:matt@sennep.com?subject=TEN Game Feedback">matt@sennep.com</a> and we'll see what we can do.</p>

                <div style="background-color: rgba(51, 122, 255, 0.1); border-radius: 8px; padding: 16px; margin: 16px 0;">
                    <p style="margin: 0; color: white; font-weight: 500;">ðŸ’¡ <strong>Pro Tip:</strong> Once installed, TEN will launch like a native app with faster loading and offline play!</p>
                </div>

                <!-- What's a PWA -->
                <h3>ðŸ“² What's a PWA?</h3>
                <p>TEN is a Progressive Web App (PWA) - it works like a website but feels like a native app. PWAs offer the best of both worlds: the reach of the web with the experience of native apps.</p>
                
                <p><strong>PWA Benefits:</strong></p>
                <ul>
                    <li>ðŸš€ <strong>Fast loading</strong> - Cached for instant startup</li>
                    <li>ðŸ“± <strong>App-like experience</strong> - Full screen, no browser UI</li>
                    <li>ðŸ”„ <strong>Offline play</strong> - Works without internet</li>
                    <li>ðŸ”„ <strong>Auto-updates</strong> - Always the latest version</li>
                    <li>ðŸ’¾ <strong>Small footprint</strong> - No large download required</li>
                </ul>

                <!-- Add to Home Screen -->
                <h3>âž• Install TEN</h3>
                <p><strong>On iOS (Safari):</strong></p>
                <ol>
                    <li>Tap the share button <svg style="width: 16px; height: 16px; display: inline; vertical-align: middle;" viewBox="0 0 24 24"><path d="M8.59 13.51l6.83 3.98m-.01-10.98l-6.82 3.98M21 5a3 3 0 11-6 0 3 3 0 616 0zM9 12a3 3 0 11-6 0 3 3 0 616 0zm12 7a3 3 0 11-6 0 3 3 0 616 0z" fill="none" stroke="currentColor" stroke-width="2"/></svg></li>
                    <li>Select "Add to Home Screen"</li>
                    <li>Tap "Add" to install</li>
                </ol>

                <p><strong>On Android (Chrome):</strong></p>
                <ol>
                    <li>Tap the menu (â‹®) in browser</li>
                    <li>Select "Add to Home screen" or "Install app"</li>
                    <li>Tap "Add" or "Install"</li>
                </ol>

                <p><strong>On Desktop:</strong></p>
                <ol>
                    <li>Look for install icon in address bar</li>
                    <li>Click "Install TEN" when prompted</li>
                    <li>Or use browser menu > "Install TEN"</li>
                </ol>
            </div>
            <div class="modal-footer">
                <button class="modal-button" onclick="closeAppInfo()">
                    <span class="modal-button-text">Got it!</span>
                </button>
            </div>
        </div>
    </div>

    <!-- How to Play Modal -->
    <div class="modal-overlay" id="howToPlayModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">How to Play</h2>
                <button class="modal-close" onclick="closeHowToPlay()" aria-label="Close">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="modal-tldr">
                    <h3>TL;DR</h3>
                    <p>It's like regular tic-tac-toe, but with 9 boards! Win 3 boards in a row to win the game. The twist: where you play determines which board your opponent must play in next. ðŸŽ¯</p>
                </div>

                <h3>The Big Picture</h3>
                <p>You're playing 9 mini tic-tac-toe games at once! Win 3 mini-boards in a row (horizontally, vertically, or diagonally) to win the whole game.</p>

                <h3>The Twist</h3>
                <p>Here's where it gets interesting: Your move determines where your opponent plays next!</p>
                <ul>
                    <li>If you play in the top-left cell of any mini-board, your opponent must play in the top-left mini-board</li>
                    <li>If you play in the center cell, they go to the center board</li>
                    <li>And so on!</li>
                </ul>

                <h3>When You Get Free Choice</h3>
                <p>Sometimes you'll see multiple boards light up - this means you can play anywhere! This happens when:</p>
                <ul>
                    <li>It's your first move</li>
                    <li>You're sent to a board that's already won</li>
                    <li>You're sent to a board that's completely full</li>
                </ul>

                <h3>Strategy Tips</h3>
                <ul>
                    <li>Think ahead! Where will your move send your opponent?</li>
                    <li>Don't accidentally give them free choice by sending them to finished boards</li>
                    <li>Control the center boards - they're part of the most winning combinations</li>
                    <li>Sometimes it's better to block than to win if it sends your opponent somewhere good</li>
                </ul>

                <h3>Quick Rules</h3>
                <ul>
                    <li>âœ“ Win mini-boards by getting 3 in a row</li>
                    <li>âœ“ Win the game by getting 3 mini-boards in a row</li>
                    <li>âœ“ Your move position = opponent's next board</li>
                    <li>âœ“ Blue border = X can play there</li>
                    <li>âœ“ Red border = O can play there</li>
                </ul>

                <p>Ready to play? It's easier to learn by doing - jump in and have fun! ðŸŽ¯</p>
            </div>
            <div class="modal-footer">
                <button class="modal-button" onclick="closeHowToPlay()">
                    <span class="modal-button-text">Got it!</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Splash Page -->
    <div class="splash-page">
        <div class="splash-content">
            <div class="splash-tiles">
                <div class="splash-x-tile" aria-label="X player tile"></div>
                <div class="splash-o-tile" aria-label="O player tile"></div>
            </div>
            <h1 class="splash-title">Welcome to TEN</h1>
            <p class="splash-subtitle">An ultimate tic-tac-toe game made by Sennep Games</p>
            
            <div class="button-group main-menu">
                <button class="menu-button" onclick="showHowToPlay()" aria-label="How to play">
                    <span class="menu-button-text">How to play</span>
                </button>
                <button class="menu-button" onclick="start2Player()" aria-label="Start 2 player game">
                    <span class="menu-button-text">2 Player</span>
                </button>
                <button class="menu-button" onclick="showAIDifficulty()" aria-label="Play against AI">
                    <span class="menu-button-text">Play the AI</span>
                </button>
            </div>

            <div class="button-group ai-difficulty" style="display: none;">
                <button class="menu-button" onclick="startAIEasy()" aria-label="Play against easy AI">
                    <span class="menu-button-text">Easy</span>
                </button>
                <button class="menu-button" onclick="startAIMedium()" aria-label="Play against medium AI">
                    <span class="menu-button-text">Medium</span>
                </button>
                <button class="menu-button" onclick="startAIHard()" aria-label="Play against hard AI">
                    <span class="menu-button-text">Hard</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Game Container -->
    <div class="game-container">
        <!-- Turn indicator -->
        <div class="turn-indicator" role="status" aria-live="polite">
            <div class="mini-x-tile" aria-hidden="true"></div>
            <div class="mini-o-tile" aria-hidden="true"></div>
            <span class="turn-text">Your turn</span>
        </div>

        <!-- Game board and AI thinking container -->
        <div class="ai-thinking-container">
            <div class="main-board" role="grid" aria-label="Ultimate tic-tac-toe game board">
                <!-- Mini-boards will be generated by JavaScript -->
            </div>
            
            <!-- AI thinking indicator -->
            <div class="ai-thinking" role="status" aria-live="polite">
                <span class="ai-thinking-text">Thinking<span class="thinking-dots"></span></span>
            </div>
        </div>
        
        <!-- Play again button -->
        <div class="play-again-placeholder">
            <div class="play-again" onclick="resetGame()" role="button" tabindex="0" aria-label="Play again">
                <span class="play-again-text">Play again</span>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules (Load in dependency order) -->
    
    <!-- Core utilities and helpers -->
    <script src="js/utils/utils.js"></script>
    <script src="js/utils/analytics.js"></script>
    
    <!-- Core game logic -->
    <script src="js/core/game.js"></script>
    <script src="js/core/ai.js"></script>
    
    <!-- User interface -->
    <script src="js/ui/ui.js"></script>
    
    <!-- Application initialization -->
    <script src="js/app.js"></script>
</body>
</html>